plugin: amazon.aws.aws_ec2

hostnames:
  - dns-name

# I set these tags manually for now
groups:
  dev: "'dev' in tags.env"
  live: "'production' in tags.env"

compose:
  # TODO: If this wasn't just a test hanging around in this other playbook, you'd set
  # these in the group vars and the dev and live groups above would pick up the right
  # values rather than piddling around in here.
  ansible_user: "{{ 'ubuntu' if 'dev' in tags.env else 'gothick' }}"
  ansible_ssh_private_key_file: "{{ '~/.ssh/ansible' if 'dev' in tags.env else '~/.ssh/id_rsa' }}"
